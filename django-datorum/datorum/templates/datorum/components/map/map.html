{% with "data_"|add:component.key as data_key %}
    {{ rendered_value|json_script:data_key }}
    <script>
        var data_{{ component.key }} = JSON.parse(document.getElementById('{{ data_key }}').textContent);
        Plotly.newPlot(
            '{{ component.key }}',
            data_{{ component.key }}.data,
            data_{{ component.key }}.layout,
            {showLink: false},
        );
    </script>
{% endwith %}

<div id="{{ component.key }}"></div>

