{% load humanize %}
<table class="table">
  <thead>
  <tr>
    <th>Task</th>
    <th>Status</th>
    <th>Started On</th>
    <th>Completed On</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  {% for task in object_list %}
    <tr class=" result-table {% if task.status == "RUNNING" %}table-primary{% elif task.status == "DONE" %}table-success{% elif task.status == "VALIDATION_ERROR" %}table-danger{% endif %}">
      <td>
        {{ task.pipeline_task }}
        <p><small>{{ task.task_id }}</small></p>
      </td>
      <td>
        {{ task.get_status_display }} - {{ task.status }}
      </td>
      <td>
        {{ task.started|naturaltime }}
      </td>
      <td>
        {% if task.completed %}
        {{ task.completed }} ({{ task.duration|default_if_none:"-" }} seconds)
        {% else %}
          NOT COMPLETED
        {% endif %}
      </td>
      <td>
        <a href="{% url "wildcoeus.pipelines:rerun-task" task.pk %}" class="btn btn-success">rerun</a>
      </td>
    </tr>
  {% endfor %}
  </tbody>
</table>